<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>登录界面</title>    
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="cache-control" content="no-cache">
	<!--Loading bootstrap css-->
	<link href="./asserts/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="../statics/fonts/fontawesome/font-awesome.min.css"/>
	<link href="./asserts/animate.css" rel="stylesheet">
	<link type="text/css" rel="stylesheet" href="./asserts/all.css">
	<link href="./asserts/toastr.min.css" rel="stylesheet">
	<link rel="stylesheet" href="./asserts/bootstrapValidator.css">
	<!--Loading style-->
	<!-- <link type="text/css" rel="stylesheet" href="css/themes/style1/orange-blue.css" class="default-style"> -->
	<script src="./asserts/jquery.min.js"></script>
	<script src="./asserts/bootstrap.min.js"></script>
	<!-- iCheck -->
	<script src="./asserts/icheck.min.js"></script>
	<script src="./asserts/custom.min.js"></script>
	<!--toastr -->
	<script src="./asserts/toastr.min.js"></script>
	<script type="text/javascript" src="./asserts/bootstrapValidator.js"></script>
	<script type="text/javascript" src="./asserts/zh_CN.js"></script>
	<script src="./asserts/jquery-migrate-1.2.1.min.js"></script>
	<script src="./asserts/jquery-ui.js"></script>
	<script src="./asserts/html5shiv.js"></script>
	<script src="./asserts/respond.min.js"></script>
	<script src="./asserts/jquery.menu.js"></script>
<style>
#signin-page {
    background: url('./asserts/bg3.jpg') center center fixed;
    -moz-background-size: cover;
    -webkit-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
    padding: 5px;
    height: 100%;
}
.page-form {
    width: 400px;
    margin:20% auto 0 auto;
    background:rgba(255,255,255,0.75);
    border-radius: 2px;
    position: relative;
}
.page-form .input-icon i {
    margin-top: 12px;
}

.page-form .header-content {
	width: 100%;
    padding: 15px 20px;
    border-top-left-radius: 4px;
    border-top-right-radius: 4px;
    position: absolute;
    top:-200px;
}
.page-form .header-content .logo{
	width: 80px;height: 80px; border-radius: 40px; background:#fff url("./asserts/logo.png") no-repeat center; background-size: 50%; box-shadow: 3px 3px 3px rgba(0,0,0,0.7);margin: 20px auto; margin: 20px auto;
}
.page-form .header-content h1 {
    font-family: 'oswald';
    font-size: 30px;
    font-weight: bold;
    text-align: center;
    margin: 0;
    color: #fff;
    text-transform: uppercase;
    text-shadow: 3px 3px 3px #000;
}
.page-form .body-content {
    padding: 15px 20px;
    position: relative;
}

#lock-screen-page .page-form {
    margin-top: 15%;
    text-align: center;
}
#lock-screen-page .page-form h1 {
    margin: 0;
    font-family: 'Oswald';
}
.input-icon {
    position: relative;
}
.input-icon input {
    padding-left: 33px !important;
    color: #333;
}
.input-icon i {
    color: #999999;
    display: block;
    position: absolute;
    margin: 10px 2px 4px 10px;
    width: 16px;
    height: 16px;
    font-size: 16px;
    text-align: center;
}
.input-icon.right input {
    padding-left: 12px !important;
    padding-right: 33px !important;
}
.input-icon.right i {
    right: 8px;
    float: right;
}
.btn-success {
    color: #ffffff;
    background-color: #1b7e5a;
    border-color: #1b7e5a;
    border-radius: 0px;
}
.btn-success:hover,
.btn-success:focus,
.btn-success:active,
.btn-success.active,
.open .dropdown-toggle.btn-success {
    color: #ffffff;
    background-color: #1a8f64;
    border-color: #1a8f64;
}
.btn-success:active,
.btn-success.active,
.open .dropdown-toggle.btn-success {
    background-image: none;
}
</style>
</head>

<body id="signin-page">
    <div class="page-form">
        <form id="loginform" method="post" class="form bv-form" novalidate="novalidate"><button type="submit" class="bv-hidden-submit" style="display: none; width: 0px; height: 0px;"></button>
            <div class="header-content">
            	<div class="logo"></div>
                <h1>Login-Admin</h1>
            </div>
            <div class="body-content">
                <p style="color: #888">欢迎登录!</p>
                <div class="form-group">
                    <div class="input-icon right"><i class="fa fa-user"></i>
                        <input name="username" class="form-control" placeholder="用户名" required="" data-bv-field="username">
                    </div>
                <small class="help-block" data-bv-validator="notEmpty" data-bv-for="username" data-bv-result="NOT_VALIDATED" style="display: none;">请填写必填项目</small></div>
                <div class="form-group">
                    <div class="input-icon right"><i class="fa fa-key"></i>
                        <input name="password" type="password" class="form-control" placeholder="密　码" required="" data-bv-field="password">
                    </div>
                <small class="help-block" data-bv-validator="notEmpty" data-bv-for="password" data-bv-result="NOT_VALIDATED" style="display: none;">请填写必填项目</small></div>

			<!-- //验证码预留               
				<div class="form-group">
               	   <div class="pull-left">
                     <input   name="jcaptchaCode" class="form-control" placeholder="验证码" required="">
                   </div>
                   <div class="pull-right">
                     <img id="img_jcaptcha"  src="images/login/jcaptcha.jpg" width="100" height="35" onclick="changeJcaptchaSrc();" />
                    </div>   
                </div>
                <div class="clearfix"></div> 
        	-->

                <div class="form-group" style="margin-top:10px;">
	                <div class="pull-left">
	                    <div class="checkbox-list">
	                        <label class=""><div class="icheckbox_square-green" style="position: relative;"><input id="rememberMe" type="checkbox" name="rememberMe" value="1" class="i-checks" style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"><ins class="iCheck-helper" style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"></ins></div>&nbsp; 自动登录</label>
	                    </div>

	                </div>
	                <div class="pull-right">
	                    <button type="submit" onclick="login();" class="btn btn-success">登 录 &nbsp;
	                        <i class="fa fa-chevron-circle-right"></i>
	                    </button>
	                </div>
	            </div>
                <div class="clearfix"></div>
            </div>
        </form>
    </div>
   
    <script>
        //BEGIN CHECKBOX
        $('input[type="checkbox"]').iCheck({
            checkboxClass: 'icheckbox_square-green',
            increaseArea: '20%' // optional
        });
        //END CHECKBOX 
        function changeJcaptchaSrc(){  
            document.getElementById("img_jcaptcha").src='jcaptcha.jpg?_='+(new Date()).getTime();  
        }  
    </script>
     <script type="text/javascript">
		$(document).ready(function() {
		     $("#loginform").bootstrapValidator();
		});
		
		function login() {
            $.ajax({
				url : '/epoch-erp/login',
				type : 'post',
				data : $("form").serialize(),
				async: false,
				success : function(data){
					debugger
					if(data.code==0){
						$(location).attr('href', '/epoch-erp/index/index');
					}else{
						showToast(data.message,"error");
					}
				}
			});
		}
		//toastr配置。
		function showToast(msg,shortCutFunction)
		 {
			 toastr.options = {
					  "closeButton": true,
					  "debug": false,
					  "progressBar": true,
					  "positionClass": "toast-bottom-right",
					  "onclick": null,
					  "showDuration": "400",
					  "hideDuration": "1000",
					  "timeOut": "7000",
					  "extendedTimeOut": "1000",
					  "showEasing": "swing",
					  "hideEasing": "linear",
					  "showMethod": "fadeIn",
					  "hideMethod": "fadeOut"
			}
			toastr[shortCutFunction](msg,"提示");
		 }
		<!-- jQuery 当键盘敲击【ENTER】键时，系统登录 -->
		$(document).ready(function() {
			$("body").keydown(function(event) {
				if (event.which == 13) {
					login();
				}
			});
		});
	</script>


</body></html>